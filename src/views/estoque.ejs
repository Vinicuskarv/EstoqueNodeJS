
<!DOCTYPE html>
<html>
<head>
    <title>Estoque</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"crossorigin="anonymous">
</head>
<body>
    <br>
    <div class="container">
        <nav>
            <div class="nav nav-tabs" id="nav-tab" role="tablist">
              <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Adicionar</button>
              <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">Escluir</button>
              <button class="nav-link" id="nav-contact-tab" data-bs-toggle="tab" data-bs-target="#nav-contact" type="button" role="tab" aria-controls="nav-contact" aria-selected="false">Editar</button>
            </div>
          </nav>
          <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab" tabindex="0">
                <h2>Adicionar Item ao Estoque</h2>
        <form action="/estoque" method="POST">
            <label for="codigo">Código:</label>
            <input type="text" id="codigo" name="codigo" required><br><br>

            <label for="descricao">Descrição:</label>
            <input type="text" id="descricao" name="descricao" required><br><br>

            <label for="preco">Preço:</label>
            <input type="number" id="preco" name="preco" step="0.01" required><br><br>

            <label for="quantidade">Quantidade:</label>
            <input type="number" id="quantidade" name="quantidade" required><br><br>

            <label for="localizacao">Localização:</label>
            <input type="text" id="localizacao" name="localizacao" required><br><br>

            <input type="submit" value="Adicionar Item">
            </div>
            <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab" tabindex="0">
              <h2>Excluir Item do Estoque</h2>
              <% estoque.forEach(item => { %>
                <p>
                  <%= item.codigo %> - <%= item.descricao %> - <%= item.preco %> - <%= item.quantidade %> - <%= item.localizacao %>
                  
                  <form action="/estoque/<%= item.codigo %>" method="POST" style="display: inline;">
                    <!-- Use um botão submit com o método POST -->
                    <button type="submit" formmethod="POST" formaction="/estoque/<%= item.codigo %>">Excluir</button>
                    <input type="hidden" name="_method" value="DELETE"> <!-- Campo oculto para indicar o método DELETE -->
                  </form>
                </p>
              <% }) %>
              


            </div>
            <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab" tabindex="0">...</div>
          </div>
        
        </form>
        <br>
        <table class="table  table-striped">
            <thead>
              <tr>
                <th scope="col">Codigo</th>
                <th scope="col">Descricao</th>
                <th scope="col">Preço</th>
                <th scope="col">localizacao</th>
                <th scope="col">Quantidade</th>
              </tr>
            </thead>
            <tbody>
              <% if (estoque.length > 0) { %>
                <% estoque.forEach(item => { %>
                    <tr>
                        <td><%= item.codigo %></td>
                        <td><%= item.descricao %></td>
                        <td><%= item.preco %></td>
                        <td><%= item.quantidade %></td>
                        <td><%= item.localizacao %></td>
                    </tr>
                    <% }) %>
              <% } else { %>
                  <p>Não há itens no estoque para exibir...</p>
              <% } %>
            </tbody>
          </table>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"crossorigin="anonymous"></script>
</body>
</html>
